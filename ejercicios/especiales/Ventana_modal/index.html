<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Ventana Modal – Liquidación</title>
  <link rel="stylesheet" href="styles.css?v=1.0" />
</head>
<body>
  <header class="barra-superior">Ventana Modal – Formulario de Liquidación de Sueldos</header>

  <main class="area">
    <button id="abrirModal" class="boton-abrir">Abrir modal</button>
  </main>

  <div id="overlay" class="overlay" aria-hidden="true">
    <section class="modal" role="dialog" aria-modal="true" aria-labelledby="tituloModal">
      <div class="modal-header">
        <h2 id="tituloModal">Formulario de Liquidación de Sueldos</h2>
        <button id="cerrarModal" class="cerrar" aria-label="Cerrar">×</button>
      </div>

      <div class="modal-body">
        <form id="liquidacionForm" class="formulario" method="get" action="respuesta.html" aria-label="Formulario de alta de liquidación">
          <div class="fila-campos">
            <div class="grupo-campo">
              <label for="legajoEmpleado">Legajo Empleado</label>
              <input type="text" id="legajoEmpleado" name="legajoEmpleado" placeholder="Ej: 01" required>
            </div>
            <div class="grupo-campo">
              <label for="mesLiquidacion">Mes de liquidación</label>
              <input type="month" id="mesLiquidacion" name="mesLiquidacion" required>
            </div>
          </div>

          <div class="fila-campos">
            <div class="grupo-campo">
              <label for="apellidoNombres">Apellido y Nombre</label>
              <input type="text" id="apellidoNombres" name="apellidoNombres" placeholder="Ej: Bustamante Agustin" required>
            </div>
            <div class="grupo-campo">
              <label for="sueldoBasico">Sueldo básico</label>
              <input type="number" id="sueldoBasico" name="sueldoBasico" placeholder="Ej: 300000" min="0" step="0.01" required>
            </div>
          </div>

          <div class="fila-campos">
            <div class="grupo-campo">
              <label for="fechaLiquidacion">Fecha de liquidación</label>
              <input type="date" id="fechaLiquidacion" name="fechaLiquidacion" required>
            </div>
            <div class="grupo-campo">
              <label for="concepto">Concepto no remunerativo 1 (parametrizable)</label>
              <select id="concepto" name="concepto" required>
                <option value="" disabled selected>-- seleccionar --</option>
              </select>
            </div>
          </div>

          <div class="fila-campos">
            <div class="grupo-campo">
              <label for="montoConcepto">Monto no remunerativo 1</label>
              <input type="number" id="montoConcepto" name="montoConcepto" min="0" step="0.01" value="0" required>
            </div>
          </div>

          <div class="acciones">
            <button type="submit" class="boton">Enviar</button>
          </div>
        </form>
      </div>
      <footer class="pie">Programación en ambiente de redes – 2025 · Alumno: Agustin Bustamante</footer>
    </section>
  </div>

  <footer class="pie">Programación en ambiente de redes – 2025 · Alumno: Agustin Bustamante</footer>

  <script>
    alert("Ancho de ventana: " + window.innerWidth);
    const conceptos = [
      {codigo: '01', descripcion: 'Indemnizaciones'},
      {codigo: '02', descripcion: 'Asignaciones familiares'},
      {codigo: '03', descripcion: 'Viáticos'},
      {codigo: '04', descripcion: 'Adicional por presentismo'}
    ];

    function poblarSelect() {
      const select = document.getElementById('concepto');
      if (!select) return;
      if (select.querySelectorAll('option').length <= 1) {
        conceptos.forEach(item => {
          const opt = document.createElement('option');
          opt.value = item.codigo;
          opt.textContent = item.descripcion;
          select.appendChild(opt);
        });
      }
    }

    const overlay = document.getElementById('overlay');
    const abrirModal = document.getElementById('abrirModal');
    const cerrarModal = document.getElementById('cerrarModal');
    let opener = null;

    function abrir() {
      opener = document.activeElement;
      overlay.classList.add('activo');
      overlay.setAttribute('aria-hidden', 'false');
      poblarSelect();
      (document.getElementById('legajoEmpleado') || overlay).focus();
    }

    function cerrar() {
      overlay.classList.remove('activo');
      overlay.setAttribute('aria-hidden', 'true');
      if (opener) opener.focus();
    }

    abrirModal.addEventListener('click', abrir);
    cerrarModal.addEventListener('click', cerrar);

    const form = document.getElementById('liquidacionForm');
    form.addEventListener('submit', (e) => {
  
    });
  </script>
</body>
</html>
