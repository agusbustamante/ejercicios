:root{
  --color-primario:   #4a148c;
  --color-secundario: #6a1b9a;
  --color-fondo:      #e8e8e8;
  --color-texto:      #212529;
  --color-borde:      #dee2e6;
  --color-hover:      #f3e8ff;
  --color-white:      #ffffff;
}

*{ box-sizing:border-box; margin:0; padding:0; }
html,body{ height:100%; }
img{ max-width:100%; height:auto; display:block; }
button,input,select{ font: inherit; }

/* -------- Layout general -------- */
body.vista-simple{
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
  background: var(--color-fondo);
  color: var(--color-texto);
  display:flex; flex-direction:column; min-height:100vh;
}

/* -------- Barra superior -------- */
.barra-superior{
  position: sticky; top:0; z-index:50; color:#fff;
  background: var(--color-primario);
  box-shadow: 0 2px 4px rgba(0,0,0,.2);
}
.barra-superior .barra-inner{
  max-width:100%; margin:0 auto; padding:12px 20px;
  display:flex; align-items:center; gap:14px; flex-wrap:wrap;
}
.titulo{ font-size:1.25rem; font-weight:700; margin-right:auto; }
.acciones-header{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
.acciones-header label{ font-weight:400; font-size:.95rem; display:flex; gap:6px; align-items:center; }
.acciones-header input[type="text"]{
  padding:.4rem .7rem; border:1px solid #ccc; border-radius:4px; min-width:160px; 
  background:#fff; color:#333; font-size:.9rem;
}

/* -------- Botones -------- */
.boton{
  background:#fff; color:var(--color-primario); border:1px solid #ddd;
  padding:.45rem .85rem; border-radius:4px; font-weight:600; cursor:pointer; font-size:.9rem;
  transition: background .2s ease, transform .05s ease;
}
.boton:hover{ background:#f5f5f5; }
.boton:active{ transform: translateY(1px); }

/* -------- Contenedor principal -------- */
main{ flex:1; background:#e8e8e8; }
.tabla-contenedor{
  max-width:100%; margin:0; padding:16px;
  background: transparent;
}

/* -------- Tabla -------- */
table{ 
  width:100%; border-collapse:collapse; background:#fff; 
  box-shadow: 0 1px 3px rgba(0,0,0,.1);
}
thead th{
  position:sticky; top:0; z-index:10;
  background: var(--color-primario); color:#fff; text-align:left;
  padding:10px 12px; border-bottom:1px solid #3a0e6c; font-weight:700; 
  font-size:.9rem; white-space: nowrap;
  cursor: pointer; user-select: none; transition: background 0.2s;
}
thead th:hover{
  background: var(--color-secundario);
}
thead th[data-orden]::after{ content: ' ↕'; opacity: 0.3; font-size: 0.8em; }
thead th.orden-asc::after{ content: ' ▲'; opacity: 1; }
thead th.orden-desc::after{ content: ' ▼'; opacity: 1; }
tbody td{
  padding:8px 12px; border-bottom:1px solid #e0e0e0;
  vertical-align:middle; background:#fff; font-size:.9rem;
}
tbody tr:nth-child(odd){ background:#f9f9f9; }
tbody tr:hover td{ background:#f0f0f0; }
tfoot{
  display: none;
}
tfoot td{
  background: var(--color-primario); color:#fff; font-weight:600; 
  padding:10px 12px; font-size:.9rem;
}

/* columnas: anchos óptimos */
th:nth-child(1){ width:8%; }
th:nth-child(2){ width:20%; }
th:nth-child(3){ width:10%; }
th:nth-child(4){ width:9%; }
th:nth-child(5){ width:12%; }
th:nth-child(6){ width:14%; }
th:nth-child(7){ width:12%; }
th:nth-child(8){ width:8%; text-align:center; }
th:nth-child(9), th:nth-child(10){ width:8%; text-align:center; }
th.col-modi, th.col-borrar{ width:8%; text-align:center; }

tr.filtros th{
  background:#fff; position:sticky; top:42px; z-index:9;
  box-shadow: inset 0 -1px 0 var(--color-borde);
  padding:8px;
  border-bottom:1px solid #ccc;
}
tr.filtros input, tr.filtros select{
  width:100%; padding:.35rem .5rem; border:1px solid #ccc; 
  border-radius:4px; background:#fff; font-size:.85rem;
}

/* Vista simple: MOSTRAR filtros y acciones */
body.vista-simple .filtros{ display:table-row !important; }
body.vista-simple .filtros th:nth-child(2),
body.vista-simple .filtros th:nth-child(6) { display: none; }
body.vista-simple thead th:nth-child(9), body.vista-simple tbody td:nth-child(9),
body.vista-simple thead th:nth-child(10), body.vista-simple tbody td:nth-child(10){ display:table-cell; }

/* -------- PDF "pill" centrado -------- */
tbody td a.pdf,
tbody td[data-campo="pdf"] a{
  display:inline-block; padding:4px 12px; border:1px solid #1976d2;
  border-radius:4px; color:#1976d2; text-decoration:none; 
  font-weight:600; font-size:.85rem; background:#fff;
  transition: background .2s ease;
}
tbody td a.pdf:hover{ background:#e3f2fd; }

tbody td button.btn-accion, tbody td .btn-accion{
  padding:5px 14px; border:1px solid #1976d2; border-radius:4px;
  background:#fff; color:#1976d2; font-weight:600; font-size:.85rem;
  cursor:pointer; transition: background .2s ease; margin:0 2px;
}
tbody td button.btn-accion:hover, tbody td .btn-accion:hover{ background:#e3f2fd; }
tbody td button.btn-modi, tbody td .btn-modi{ border-color:#1976d2; color:#1976d2; }
tbody td button.btn-borrar, tbody td .btn-borrar{ border-color:#d32f2f; color:#d32f2f; }
tbody td button.btn-borrar:hover, tbody td .btn-borrar:hover{ background:#ffebee; }

tbody td[data-campo="modificar"], tbody td[data-campo="borrar"], tbody td.col-acciones{ text-align:center; }

.pie{
  max-width:100%; margin:0; padding:10px 20px;
  background: var(--color-primario); color:#fff; text-align:center; 
  font-weight:400; font-size:.9rem;
}

.modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:#0006; z-index:100; }
.modal.oculto{ display:none; }
.modal-contenido{
  width:min(860px, 96vw); background:#fff; border-radius:14px; padding:18px; border:1px solid #eee;
  box-shadow: 0 10px 40px rgba(0,0,0,.20);
}
.modal h2, .modal h3{ margin-bottom:10px; color:var(--color-primario); }
.fila-form{ display:grid; grid-template-columns:210px 1fr; gap:10px; align-items:center; margin:8px 0; }
.fila-form input, .fila-form select{ padding:.5rem .6rem; border:1px solid var(--color-borde); border-radius:8px; background:#fff; }

.oculto{ display:none !important; }
[hidden]{ display:none !important; }

/* -------- Responsivo -------- */
@media (max-width: 768px){
  .barra-superior .barra-inner{ gap:8px; flex-wrap:wrap; }
  .acciones-header input[type="text"]{ min-width:100px; padding:.3rem .5rem; font-size:.85rem; }
  .boton{ padding:.3rem .5rem; font-size:.85rem; }
  .tabla-contenedor{ padding:8px; }
  table, thead th, tbody td{ font-size:.85rem; }
  thead th, tbody td{ padding:5px 6px; }
}

@media (max-width: 600px){
  .barra-superior .barra-inner{ flex-direction:column; padding:8px; gap:8px; }
  .titulo{ font-size:1rem; }
  .acciones-header{ flex-direction:column; width:100%; }
  .acciones-header input, .boton{ width:100%; padding:.25rem .3rem; font-size:.75rem; }
  
  .tabla-contenedor{ padding:4px; }
  table{ font-size:.75rem; }
  thead th{ padding:4px 3px; font-size:.7rem; }
  tbody td{ padding:3px; font-size:.75rem; }
  tbody td button.btn-accion, tbody td a.pdf{ padding:2px 3px; font-size:.65rem; }
  
  .modal-contenido{ width:95vw; padding:10px; }
  .fila-form{ grid-template-columns:1fr; gap:6px; }
}
