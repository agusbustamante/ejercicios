<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Liquidaciones de sueldos – ABM</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header class="barra-superior">
    <div class="barra-inner">
      <h1 class="titulo">Liquidaciones de sueldos</h1>
      <div class="acciones-header">
        <label>Orden:
          <input id="orden" type="text" value="LegajoEmpleado" />
        </label>
        <button id="btnBuscar" class="boton">Cargar datos</button>
        <button id="btnVaciar" class="boton">Vaciar datos</button>
        <button id="btnAlta" class="boton">Alta registro</button>
      </div>
    </div>
  </header>

  <main class="max tabla-contenedor">
    <div class="tabla-wrapper">
      <table id="tabla" aria-label="Tabla de liquidaciones de sueldos">
        <thead>
          <tr>
            <th data-orden="LegajoEmpleado">Legajo</th>
            <th data-orden="ApellidoYNombres">Apellido y nombres</th>
            <th data-orden="Fecha_liquidacion">Fecha</th>
            <th data-orden="MesDeLiquidacion">Mes</th>
            <th data-orden="SueldoBasico">Sueldo básico</th>
            <th data-orden="concepto_no_remunerativo_1">Concepto no rem. 1</th>
            <th data-orden="Monto_no_remunerativo_1">Monto no rem. 1</th>
            <th>PDF</th>
            <th>Modi</th>
            <th>Borrar</th>
          </tr>
          <tr class="filtros">
            <th></th><th></th><th></th>
            <th>
              <select id="f_mes" aria-label="Mes de liquidación" title="Mes de liquidación">
                <option value="" selected>(todos)</option>
                <option value="1">Enero</option>
                <option value="2">Febrero</option>
                <option value="3">Marzo</option>
                <option value="4">Abril</option>
                <option value="5">Mayo</option>
                <option value="6">Junio</option>
                <option value="7">Julio</option>
                <option value="8">Agosto</option>
                <option value="9">Septiembre</option>
                <option value="10">Octubre</option>
                <option value="11">Noviembre</option>
                <option value="12">Diciembre</option>
              </select>
            </th>
            <th></th><th></th><th></th><th></th><th></th><th></th>
          </tr>
        </thead>
        <tbody id="tbody">
          <tr><td colspan="10">Sin datos. Pulse “Cargar datos” para consultar.</td></tr>
        </tbody>
        <tfoot>
          <tr>
            <td id="pie" colspan="10">Alumno: <strong>Bustamante Agustin</strong> · Total: 0</td>
          </tr>
        </tfoot>
      </table>
    </div>
  </main>

  <footer class="pie">Programación en ambiente de redes – 2025 · Alumno: Bustamante Agustin</footer>

  <!-- Modal: formulario -->
  <div id="modalForm" class="modal oculto" aria-hidden="true">
    <div class="modal-contenido">
      <h2 id="tituloForm">Registrar liquidación</h2>
      <form id="formLiquidacion" enctype="multipart/form-data">
        <input type="hidden" name="accion" id="accion" value="alta" />
        <input type="hidden" name="legajoOriginal" id="legajoOriginal" />

        <div class="fila-form">
          <label>Legajo:</label>
          <input type="text" name="LegajoEmpleado" id="LegajoEmpleado" required />
        </div>

        <div class="fila-form">
          <label>Apellido y nombres:</label>
          <input type="text" name="ApellidoYNombres" id="ApellidoYNombres" required />
        </div>

        <div class="fila-form">
          <label>Fecha de liquidación:</label>
          <input type="date" name="Fecha_liquidacion" id="Fecha_liquidacion" required />
        </div>

        <div class="fila-form">
          <label>Mes de liquidación:</label>
          <input type="text" name="MesDeLiquidacion" id="MesDeLiquidacion" placeholder="Ej: 2025-09" required />
        </div>

        <div class="fila-form">
          <label>Sueldo básico:</label>
          <input type="number" step="0.01" name="SueldoBasico" id="SueldoBasico" required />
        </div>

        <div class="fila-form">
          <label>Concepto no remunerativo 1:</label>
          <select name="CodConceptoNoRem" id="CodConceptoNoRem" required></select>
        </div>

        <div class="fila-form">
          <label>Monto no remunerativo 1:</label>
          <input type="number" step="0.01" name="Monto_no_remunerativo_1" id="Monto_no_remunerativo_1" required />
        </div>

        <div class="fila-form">
          <label>Documento PDF:</label>
          <input type="file" name="pdf_liquidacion" id="pdf_liquidacion" accept="application/pdf" />
        </div>

        <div class="fila-form acciones-form">
          <button type="submit" class="boton">Enviar</button>
          <button type="button" id="btnCancelarForm" class="boton">Cancelar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal PDF -->
  <div id="modalPDF" class="modal oculto" aria-hidden="true">
    <div class="modal-contenido modal-pdf">
      <iframe id="iframePDF" width="100%" height="600" title="Documento PDF"></iframe>
      <div style="text-align:center;padding:10px;">
        <button type="button" id="btnCerrarPDF" class="boton">Cerrar</button>
      </div>
    </div>
  </div>

  <!-- Modal Respuesta -->
  <div id="modalRespuesta" class="modal oculto" aria-hidden="true">
    <div class="modal-contenido">
      <h3>Respuesta del servidor</h3>
      <pre id="textoRespuesta" style="white-space:pre-wrap;margin:0;"></pre>
      <div style="text-align:center;margin-top:.5rem;">
        <button type="button" id="btnCerrarRespuesta" class="boton">Aceptar</button>
      </div>
    </div>
  </div>

  <!-- Tu JS actual (no cambia) -->
  <script src="app.js"></script>
</body>
</html>
